var n={false:"push",true:"unshift"},e=Object.prototype.hasOwnProperty,t=function(n,e,t,r){return[Object.assign(new n.Token("link_open","a",1),{attrs:[["class",e],["href",t],["aria-hidden","true"]]}),Object.assign(new n.Token("html_block","",0),{content:r}),new n.Token("link_close","a",-1)]},r=function(e,t,r,i,o){var u;t&&o[n[!r]](Object.assign(new e.Token("text","",0),{content:" "})),(u=e.tokens[i+1].children)[n[r]].apply(u,o)},i=function(n,t){t=Object.assign({},i.defaults,t),n.core.ruler.push("anchor",function(n){var r,i={},o=n.tokens,u=Array.isArray(t.level)?(r=t.level,function(n){return r.includes(n)}):function(n){return function(e){return e>=n}}(t.level);o.filter(function(n){return"heading_open"===n.type}).filter(function(n){return u(Number(n.tag.substr(1)))}).forEach(function(r){var u=o[o.indexOf(r)+1].children.filter(function(n){return"text"===n.type||"code_inline"===n.type}).reduce(function(n,e){return n+e.content},""),l=r.attrGet("id");null==l&&(l=function(n,t){for(var r=n,i=2;e.call(t,r);)r=n+"-"+i++;return t[r]=!0,r}(t.slugify(u),i),r.attrPush(["id",l])),t.permalink&&t.renderPermalink(l,t,n,o.indexOf(r)),t.toplink&&t.renderToplink(l,t,n,o.indexOf(r)),t.callback&&t.callback(r,{slug:l,title:u})})})};i.defaults={level:1,slugify:function(n){return encodeURIComponent(String(n).trim().toLowerCase().replace(/\s+/g,"-"))},permalink:!1,renderPermalink:function(n,e,i,o){var u=t(i,e.permalinkClass,e.permalinkHref(n,i),e.permalinkSymbol);r(i,e.permalinkSpace,e.permalinkBefore,o,u)},permalinkClass:"header-anchor",permalinkSpace:!0,permalinkSymbol:"¶",permalinkBefore:!1,permalinkHref:function(n){return"#"+n},toplink:!1,renderToplink:function(n,e,i,o){var u=t(i,e.toplinkClass,"#"+e.toplinkName,e.toplinkSymbol);r(i,e.toplinkSpace,e.toplinkBefore,o,u)},toplinkClass:"header-toplink",toplinkSpace:!0,toplinkSymbol:"↑",toplinkBefore:!0,toplinkName:"top"};export default i;
//# sourceMappingURL=markdownItAnchor.mjs.map
